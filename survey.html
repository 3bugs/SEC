<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <title>กลต.</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="manifest" href="site.webmanifest">
  <link rel="apple-touch-icon" href="icon.png">
  <!-- Place favicon.ico in the root directory -->

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
        crossorigin="anonymous">
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">
  <link href='https://fonts.googleapis.com/css?family=Prompt|Sarabun|Roboto' rel='stylesheet'>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="css/hamburgers.min.css" rel="stylesheet">
  <link href="css/survey.css" rel="stylesheet">

  <meta name="theme-color" content="#fafafa">
</head>

<body>
<!--[if IE]>
<p class="browserupgrade">คุณใช้บราวเซอร์ที่เก่าเกินไป กรุณา<a href="https://browsehappy.com/">อัพเกรดบราวเซอร์</a>เพื่อความปลอดภัยและประสบการณ์ที่ดีในการใช้งานเว็บไซต์นี้</p>
<![endif]-->

<div class="my-navbar">
  <div style="display: flex; align-items: center">
    <img class="img-logo" src="img/logo.svg" alt="logo" style="cursor: pointer">
    <div class="header d-none d-md-block">สำนักงานคณะกรรมการกำกับหลักทรัพย์และตลาดหลักทรัพย์</div>
  </div>
  <div style="display: flex; align-items: center; align-self: stretch">
    <div id="menu-item-search" class="menu-item">
      <img class="img-search" src="img/ic_search.svg" alt="search icon">
      <div class="icon-label d-none d-md-block" style="color: #005288;">Search</div>
    </div>
    <div id="menu-item-menu" class="menu-item" style="background-color: #8DC63F">
      <!--<img class="img-search" src="img/ic_menu.svg" alt="search icon">-->

      <button class="hamburger hamburger--elastic" type="button" style="margin: 0; padding: 0">
  <span class="hamburger-box" style="margin: 0; padding: 0">
    <span class="hamburger-inner" style="margin: 0; padding: 0"></span>
  </span>
      </button>

      <div class="icon-label d-none d-md-block" style="color: #fff;">Menu</div>
    </div>
  </div>
</div>

<div id="app" class="main-container pl-5 pr-5">
  <!--<div class="step-container mt-5">
    <div class="step-text">
      <h3 class="color-active">< กลับไปก่อนหน้า</h3>
      <h3><span class="color-active">01 /</span> <span class="color-inactive">04</span></h3>
      <h3 class="color-active">ยกเลิก / เริ่มใหม่</h3>
    </div>
    <ul class="step-line">
      <li class="active"></li>
      <li></li>
      <li></li>
      <li></li>
    </ul>
  </div>-->

  <div class="survey-form-container">
    <survey-form></survey-form>
  </div>

  <!--<div id="form1" class="survey-form">
    <h3 class="color-inactive mt-5">คำถามที่ 1</h3>
    <h1>โปรดเลือกข้อมูลที่ตรงกับท่าน</h1>
    <ul class="survey-options mt-4">
      <li class="on mr-4">
        <h2>คุณได้ทำการ<br>จดทะเบียนบริษัท</h2>
        <div class="survey-option-badge">
          <i class="fa fa-check" style="color: white"></i>
        </div>
      </li>
      <li class="mr-4">
        <h2>คุณไม่เคย<br>จดทะเบียนบริษัท</h2>
      </li>
      <li>
        <h2>คุณคือวิสาหกิจ<br>เพื่อสังคม</h2>
      </li>
    </ul>
    <div class="button-container">
      <button style="z-index: 1000" onclick="handleClickNext()">
        <h5>ต่อไป&nbsp;&nbsp;<i class="fa fa-chevron-right"></i></h5>
      </button>
    </div>
  </div>-->

  <div class="survey-footer p-3 color-inactive text-center">
    <div class="container">
      <div class="row mb-2">
        <div class="col-3"><a href="#">Link goes here</a></div>
        <div class="col-3"><a href="#">Link goes here</a></div>
        <div class="col-3"><a href="#">Link goes here</a></div>
        <div class="col-3"><a href="#">Link goes here</a></div>
      </div>
      <div class="row">
        <div class="col-3"><a href="#">Link goes here</a></div>
        <div class="col-3"><a href="#">Link goes here</a></div>
        <div class="col-3"><a href="#">Link goes here</a></div>
        <div class="col-3"><a href="#">Link goes here</a></div>
      </div>
    </div>
  </div>
</div>

<div class="decoration-image" style="z-index: 997">
  <img src="img/curve.svg">
</div>
<div class="decoration-image" style="z-index: 999">
  <img src="img/man.svg" width="75%" height="75%">
</div>

<!--footer-->
<!--<div style="margin: 30px 50px; text-align: center">
  <p style="font-family: Sarabun; font-size: 18px">FOOTER<br>FOOTER<br>FOOTER<br>FOOTER<br>FOOTER<br>FOOTER<br>FOOTER<br>FOOTER<br>FOOTER<br>FOOTER<br>FOOTER<br>FOOTER<br>
  </p>
</div>-->

<script src="js/vendor/modernizr-3.8.0.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="js/vendor/jquery-3.5.1.min.js"><\/script>')</script>
<script src="js/plugins.js"></script>
<script src="js/main.js"></script>

<!-- Google Analytics: change UA-XXXXX-Y to be your site's ID. -->
<!--<script>
  window.ga = function () {
    ga.q.push(arguments)
  };
  ga.q = [];
  ga.l = +new Date;
  ga('create', 'UA-XXXXX-Y', 'auto');
  ga('set', 'transport', 'beacon');
  ga('send', 'pageview')
</script>
<script src="https://www.google-analytics.com/analytics.js" async></script>-->
<!-- development version, includes helpful console warnings -->
<!--<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>-->
<!-- production version, optimized for size and speed -->
<script src="https://cdn.jsdelivr.net/npm/vue"></script>

<script>
  const questionList = [
    {
      questionText: 'โปรดเลือกข้อมูลที่ตรงกับท่าน',
      choiceList: [
        {text: 'คุณได้ทำการ\nจดทะเบียนบริษัท', value: false, nextQuestion: 1},
        {text: 'คุณไม่เคย\nจดทะเบียนบริษัท', value: false, nextQuestion: 1},
        {text: 'คุณคือวิสาหกิจ\nเพื่อสังคม', value: false, nextQuestion: 1},
      ],
      buttonText: null,
      buttonIconClass: null,
    },
    {
      questionText: 'ประเภทสิ่งมีชีวิต',
      choiceList: [
        {text: 'คน', value: false, nextQuestion: 2},
        {text: 'สัตว์', value: false, nextQuestion: 3},
        {text: 'พืช', value: false, nextQuestion: -1},
      ],
      buttonText: null,
      buttonIconClass: null,
    },
    {
      questionText: 'เพศ',
      choiceList: [
        {text: 'ผู้หญิง', value: false, nextQuestion: -1},
        {text: 'ผู้ชาย', value: false, nextQuestion: -1},
      ],
      buttonText: null,
      buttonIconClass: null,
    },
    {
      questionText: 'ประเภทสัตว์',
      choiceList: [
        {text: 'สัตว์เลี้ยงลูก\nด้วยนม', value: false, nextQuestion: 4},
        {text: 'สัตว์สะเทินน้ำ\nสะเทินบก', value: false, nextQuestion: 5},
        {text: 'สัตว์เลื้อยคลาน', value: false, nextQuestion: 6},
      ],
      buttonText: null,
      buttonIconClass: null,
    },
    {
      questionText: 'สัตว์เลี้ยงลูกด้วยนม',
      choiceList: [
        {text: 'กระต่าย', value: false, nextQuestion: -1},
        {text: 'ช้าง', value: false, nextQuestion: -1},
        {text: 'โลมา', value: false, nextQuestion: -1},
      ],
      buttonText: null,
      buttonIconClass: null,
    },
    {
      questionText: 'สัตว์สะเทินน้ำสะเทินบก',
      choiceList: [
        {text: 'กบ', value: false, nextQuestion: -1},
        {text: 'ซาลามานเดอร์', value: false, nextQuestion: -1},
        {text: 'ตัวเงินตัวทอง', value: false, nextQuestion: -1},
      ],
      buttonText: null,
      buttonIconClass: null,
    },
    {
      questionText: 'สัตว์เลื้อยคลาน',
      choiceList: [
        {text: 'งู', value: false, nextQuestion: -1},
        {text: 'กิ้งก่า', value: false, nextQuestion: -1},
        {text: 'เต่า', value: false, nextQuestion: -1},
      ],
      buttonText: null,
      buttonIconClass: null,
    },
  ];
  let currentQuestion = 0;

  /*Vue.component('surveyFormList', {
    template: `
    <survey-form
    v-for="(q, index) in questionList"
    :question-number="index + 1"
    :question-text="q.questionText"
    :choice-list="q.choiceList"
    :button-text="q.buttonText"
    :button-icon-class="q.buttonIconClass"
    :display="getDisplay(index)"></survey-form>
    `,
    data: function () {
      return {
        questionList,
        currentQuestion,
      }
    },
    methods: {
      getDisplay: function (index) {
        return index === this.currentQuestion ? 'flex' : 'none';
      },
    },
  });*/

  Vue.component('surveyForm', {
    template: `
      <div
        :id="'survey-form'"
        class="survey-form"
        :style="'display: flex'"
      >
        <h3 class="color-inactive mt-5">คำถามที่ {{ (questionHistoryList.length + 1).toString() }}</h3>
        <h1>{{ currentQuestion.questionText }}</h1>
        <ul class="survey-options mt-4">
          <div class="empty" v-if="currentQuestion.choiceList.length === 2"></div>
          <li
            v-for="(choice, optionIndex) in currentQuestion.choiceList"
            :class="getClass(optionIndex, choice.value, currentQuestion.choiceList)"
            v-on:click="() => handleClickOption(optionIndex)"
          >
            <h2><span style="white-space: pre;">{{ choice.text }}</span></h2>
            <div class="survey-option-badge" v-if="choice.value">
              <i class="fa fa-check" style="color: white"></i>
            </div>
          </li>
          <div class="empty" v-if="currentQuestion.choiceList.length === 2"></div>
        </ul>
        <div class="button-container">
          <button
            v-bind:style="{zIndex: 1000, display: questionHistoryList.length === 0 ? 'none' : 'block'}"
            v-on:click="handleClickPrevious"
          >
            <h5><i class="fa fa-chevron-left"></i>
              &nbsp;&nbsp;ย้อนกลับ
            </h5>
          </button>
          <div class="m-2"></div>
          <button
            style="z-index: 1000"
            v-on:click="handleClickNext"
            :disabled="currentQuestion.choiceList.find(choice => choice.value) == null"
          >
            <h5>{{ currentQuestion.buttonText == null ? 'ถัดไป' : currentQuestion.buttonText }}&nbsp;&nbsp;
              <i :class="currentQuestion.buttonIconClass == null ? 'fa fa-chevron-right' : currentQuestion.buttonIconClass"></i>
            </h5>
          </button>
        </div>
      </div>
    `,
    props: {
      /*questionNumber: Number,
      questionText: String,
      choiceList: Array,
      buttonText: {
        type: String,
        default: 'ต่อไป',
      },
      buttonIconClass: {
        type: String,
        default: 'fa fa-chevron-right',
      },
      display: String,*/
    },
    data: function () {
      return {
        questionList,
        questionHistoryList: [],
        currentQuestion: questionList[0],
        questionNumber: 1,
      }
    },
    methods: {
      getClass(index, value, choiceList) {
        let cl = '';
        if (value) {
          cl += 'on'
        }
        if (index !== choiceList.length - 1) {
          cl += ' mr-4';
        }
        return cl;
      },
      handleClickOption(optionIndex) {
        this.currentQuestion.choiceList.forEach(choice => choice.value = false);
        this.currentQuestion.choiceList[optionIndex].value = true;
      },
      handleClickPrevious() {
        if (this.questionHistoryList.length === 0) {
          return;
        }

        this.changeQuestion(() => {
          this.currentQuestion = this.questionHistoryList.pop();
        });
      },
      handleClickNext() {
        const selectedChoice = this.currentQuestion.choiceList.find(choice => choice.value);

        if (selectedChoice == null) {
          alert('กรุณาเลือกคำตอบ');
          return;
        } else if (selectedChoice.nextQuestion === -1) {
          alert('จบ flow, หน้าผลลัพธ์ยังทำไม่เสร็จ - coming soon :D');
          return;
        }

        this.changeQuestion(() => {
          this.questionHistoryList.push(this.currentQuestion);
          this.currentQuestion = this.questionList[selectedChoice.nextQuestion];
        });
      },
      changeQuestion(func) {
        const surveyForm = $('#survey-form');
        surveyForm.fadeOut(300, () => {
          func();
          surveyForm.fadeIn(300, () => {
          })
        });
      },
    }
  });

  const app = new Vue({
    el: '#app',
    data: {
      message: 'Vue.js is working!',
    },
  });
</script>

<script>
  const menu = $('#menu-item-menu');
  const hamburgerButton = $('#menu-item-menu button')
  menu.on("click", function (e) {
    hamburgerButton.toggleClass("is-active");
    // Do something else, like open/close menu
  });

  /*document.addEventListener('DOMContentLoaded', function () {
    new Splide('#image-slider').mount();
  });*/

  /*function handleClickNext() {
    const form1 = $('#form1');
    const form2 = $('#form2');
    form2.hide();
    form1.fadeOut(600, () => {
      //form1.hide();
      $('#form2').fadeIn(600, () => {

      });
    });
  }*/

  $(function () {
    $('.accordion-card').click(function () {
      $(this).find('.accordion-card-hidden').toggleClass('on');
      $(this).find('i').toggleClass('rotate');
    });
  });
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<!--<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
<!--<script src="node_modules/@splidejs/splide/dist/js/splide.min.js"></script>-->
</body>

</html>
